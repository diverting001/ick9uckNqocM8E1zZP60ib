Element.implement({isDisplayed:function(){return this.getStyle("display")!="none"},isDisplay:function(){if("none"==this.style.display){return false}if("hidden"==this.style.visibility){return false}if((this.offsetWidth+this.offsetHeight)===0){return false}return true},isVisible:function(){var a=this.offsetWidth,b=this.offsetHeight;return this.isDisplayed()&&a>0&&b>0},toggle:function(){return this[this.isDisplayed()?"hide":"show"]()},hide:function(){var b;try{b=this.getStyle("display")}catch(a){}if(b=="none"){return this}return this.store("element:_originalDisplay",b||"").setStyle("display","none")},show:function(a){if(!a&&this.isDisplayed()){return this}a=a||this.retrieve("element:_originalDisplay")||"";return this.setStyle("display",(a=="none")?"block":a)},swapClass:function(a,b){return this.removeClass(a).addClass(b)},zoomImg:function(b,h,d){if(!Browser.ie6&&this.getStyle("max-width")!=="none"&&this.getStyle("max-height")!=="none"){return}if(this.tagName!=="IMG"||!this.width){return}var c={width:this.width,height:this.height};b=parseInt(b)||Number.MAX_VALUE;h=parseInt(h)||Number.MAX_VALUE;var g,f,a,e;if(c.width<=b&&c.height<=h){return d?c:null}if(c.width>b){g=c.width-b;f=(b/c.width).toFloat();e=(c.height*f).toInt();c={width:b,height:e}}if(c.height>h){g=c.height-h;f=(h/c.height).toFloat();a=(c.width*f).toInt();c={width:a,height:h}}return d?c:this.set(c)},wrapped:function(a){return new Element("div").adopt(this.clone(a).setStyle("display",""))},getPatch:function(){var a=arguments.length?Array.from(arguments):["margin","padding","border"];var b={x:0,y:0};Object.each({x:["left","right"],y:["top","bottom"]},function(c,d){c.each(function(g){try{a.each(function(e){e+="-"+g;if(e=="border"){e+="-width"}b[d]+=this.getStyle(e).toInt()||0},this)}catch(f){}},this)},this);return b},getOuterSize:function(){var a=this.offsetWidth;var b=this.offsetHeight;if(!this.isDisplayed()||(a===0&&b===0)){return{x:0,y:0}}return{x:a+this.getPatch("margin").x,y:b+this.getPatch("margin").y}},has:function(a,b){if(!a){return null}a=a.toLowerCase();if(a.indexOf(".")===0){a=a.slice(1);return this.hasClass(a)}return this.get&&this.get(a)?b?this.get(a)===b:!!this.get(a):false},nearest:function(a,d,e){if(!a){return null}var c=this;for(var b=(e||3);b;b--){if(!c||c.nodeType===8||c.nodeType===9){return null}if(c.has&&c.has(a,d)){return c}c=c.parentNode}return null},toJSON:function(a){var b=this.getElements("input,select,textarea").map(function(c){var d={};if((c.type=="checkbox"||c.type=="radio")&&!c.checked||!c.name||!c.value||c.disabled){return}d.name=c.name;d.value=c.value;return d}).clean();return a?JSON.encode(b):b},supportProperty:function(b,a){return supportProperty(a?":":""+b,this.get("tag"))},getSelectedRange:function(){if(this.selectionStart&&this.selectionEnd){return{start:this.selectionStart,end:this.selectionEnd}}var e={start:0,end:0};var a=this.getDocument().selection.createRange();if(!a||a.parentElement()!=this){return e}var c=a.duplicate();if(this.type=="text"){e.start=0-c.moveStart("character",-100000);e.end=e.start+a.text.length}else{var b=this.value;var d=b.length-b.match(/[\n\r]*$/)[0].length;c.moveToElementText(this);c.setEndPoint("StartToEnd",a);e.end=d-c.text.length;c.setEndPoint("StartToStart",a);e.start=d-c.text.length}return e},selectRange:function(d,a){if(this.setSelectionRange){this.focus();this.setSelectionRange(d,a)}else{var c=this.value.substr(d,a-d).replace(/\r/g,"").length;d=this.value.substr(0,d).replace(/\r/g,"").length;var b=this.createTextRange();b.collapse(true);b.moveEnd("character",d+c);b.moveStart("character",d);b.select()}return this}});Element.Properties.uid={get:function(){return Slick.uidOf(this)}};function supportProperty(c,a){a=a||"input";var b=document.createElement(a);if(c.indexOf(":")!=-1){c=c.split(":")[1];b.setAttribute("type",c);return c==="text"?true:b.type!=="text"}return c?c in document.createElement(a):false}Element.Events.inputchange={base:supportProperty("onpropertychange")?"propertychange":"input",condition:function(a){return supportProperty("onpropertychange")?(a.event.propertyName==["checkbox","radio"].contains(a.target.type)?"value":"checked"):true}};Element.Events.outerclick={base:"click",condition:function(a){a.stopPropagation();return false},onAdd:function(a){this.getDocument().addEvent("click",a)},onRemove:function(a){this.getDocument().removeEvent("click",a)}};Element.Events.enter={base:"keyup",condition:function(a){return(a.key=="enter")}};var imageReady=(function(){var d=[],c=null,b=function(){d.each(function(e,f){e.end?d.splice(f--,1):e()});!d.length&&a()},a=function(){clearInterval(c);c=null};return function(f,k,m,j){var l,g,n,i,e,h=new Image();h.src=f;if(h.complete){k&&k.call(h);m&&m.call(h);return}g=h.width;n=h.height;h.onerror=function(){j&&j.call(h);l.end=true;h=h.onload=h.onerror=null};l=function(){i=h.width;e=h.height;if(i!==g||e!==n||i*e>1024){k&&k.call(h);l.end=true}};l();h.onload=function(){!l.end&&l();m&&m.call(h);h=h.onload=h.onerror=null};if(!l.end){d.push(l);if(c===null){c=setInterval(b,40)}}}})();(function(d,c){function b(g,h){var f=g.getSize(),e,j;var i={};switch(typeOf(h)){case"array":i.x=h[0];i.y=h[1]||"c";break;case"string":i.x=h.charAt(0);i.y=h.charAt(1)||"c";break;case"object":i.x=h.x;i.y=h.y;break;default:i={x:"c",y:"c"}}switch(i.x.toString().toLowerCase()){case"left":case"l":e=0;break;case"100%":case"1":case"right":case"r":e=f.x;break;case"50%":case"0.5":case"center":case"c":e=f.x/2;break;default:e=i.x.toInt()||0;break}switch(i.y.toString().toLowerCase()){case"top":case"t":j=0;break;case"100%":case"1":case"bottom":case"b":j=f.y;break;case"50%":case"0.5":case"center":case"c":case"m":j=f.y/2;break;default:j=i.y.toInt()||0;break}return{x:e,y:j}}function a(g,i,e,f,l,h,m){h=typeOf(h)=="object"?h:typeOf(h)=="array"?{x:h.x||0,y:h.y||0}:{x:0,y:0};e=e?g.getOffsetParent():null;var k=l.x-f.x+i.getPosition(e).x+i.getScroll().x+h.x;var j=l.y-f.y+i.getPosition(e).y+i.getScroll().y+h.y;if(m==="in"){k=k.limit(0,d.getScroll().x+d.getSize().x-g.getSize().x);j=j.limit(0,d.getScroll().y+d.getSize().y-g.getSize().y)}g.setStyles({left:k,top:j})}Element.implement({position:function(f){f=Object.merge({target:$(c.body),to:"cc",from:"cc",base:null,offset:{x:0,y:0},offsetParent:false,intoView:false,resize:false},f);if(this.getStyle("position")!="absolute"){this.setStyle("position","absolute")}var i=$(f.target)||$(c.body);var k=b(this,f.from?f.from:f.base);var j=b(i,f.to);a(this,i,f.offsetParent,k,j,f.offset,f.intoView);if(f.resize){var g=function(){if(!this.isVisible()){return}clearTimeout(this.timer);this.timer=a.delay(100,this,[this,i,f.offsetParent,k,j,f.offset,f.intoView])}.bind(this);this.store("resize_position",g);d.addEvent("resize",g)}if(f.intoView===true||f.intoView==="to"){try{new Fx.Scroll(c,{link:"cancel",duration:300}).toElementEdge(this)}catch(h){}}return this}})})(window,document);function openWindow(b,a){var c=window.getSize();a=Object.append({width:c.x*0.8,height:c.y*0.9,left:0,top:0,scrollbars:"yes",resizable:"yes"},a||{});if(a.maxmize){a.width=screen.availWidth;a.height=screen.availHeight}else{if(a.width&&a.width<=1){a.width=c.x*a.width}if(a.height&&a.height<=1){a.height=c.y*a.height}}if(a.position==="center"){a.left=(c.x-a.width)/2;a.top=(c.y-a.height)/2}var d="toolbar=no,location=no,status=no,menubar=no,scrollbars={scrollbars},resizable={resizable},top={top},left={left},width={width},height={height}";d=d.substitute(a);window.open(b||"about:blank","_blank",d)};