<div class="banner center mainbox mb23" id="main_slide_<{$widgets_id}>">
    <div class="switchable-content">
        <ul class="slider-img">
        <{foreach from=$data.pic item=parent key=parentId}>
        <li class="panel"><a href="<{$parent.linktarget}>" target="_blank" title="<{$parent.linkinfo}>"> <img src="<{$parent.link}>" alt="<{$parent.linkinfo}>" style=""/> </a></li>
        <{/foreach}>
        </ul>
    </div>
    <ul class="slider-trigger">
        <{assign var=countnum value="1"}>
        <{foreach from=$data.pic item=parent key=parentId}>
        <li class=""></li> 
        <{/foreach}>
    </ul>
    <a class="prev slider-go-prev " href="javascript:;"></a>
    <a class="next slider-go-next " href="javascript:;"></a>
</div>

<script>
var sc_<{$widgets_id}> = new Switchable("main_slide_<{$widgets_id}>",{
    haslrbtn:true,
    content:'slider-img',
    effect:'<{$setting.effectWay|default:1150}>',
    autoplay:<{$setting.autoplay}>,
    triggersBox:'.slider-trigger',
    panels:".panel",
    activeClass:'curr'
});
sc_<{$widgets_id}>.oldWidth = 0;
$(window).addEvent('resize', function() {
    var sc = sc_<{$widgets_id}>;
    var width = sc.container.getStyle('width').toInt();
    if (width != sc.oldWidth) {
        sc.oldWidth = width;
        sc.effInit();
    }
});
</script>
